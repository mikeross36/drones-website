class Items{async getItems(){try{const t=await fetch("/data/cart-data/cart-items.json"),e=await t.json();return e}catch(t){console.log(t)}}}class Cart{displayCartItems(t){let e="";t.forEach((t=>{e+=`\n                <figure class="cart__card">\n                    <div class="cart__box">\n                        <img src="${t.image}" alt="" class="cart__img">\n                    </div>\n                    <div class="cart__details">\n                        <h4 class="cart__title">${t.title}</h4>\n                        <span class="cart__price">${t.price} €</span>\n                        <div class="cart__amount">\n                            <div class="cart__amount-content">\n                                <span class="cart__amount-box">\n                                    <img src="/app/images/chevron-down.svg" alt="" width="20px" height="20px">\n                                </span>\n                                <span class="cart_amount-number">0</span>\n                                <span class="cart__amount-box">\n                                    <img src="/app/images/chevron-up.svg" alt="" width="20px" height="20px">\n                                </span>\n                            </div>\n                            <img src="/app/images/can-trash.svg" alt="" class="cart__amount-trash" width="20px" height="20px">\n                        </div>\n                    </div>\n                </figure>\n            `}));const n=document.querySelector(".cart__container");return n&&n.insertAdjacentHTML("beforeend",e),t}}document.addEventListener("DOMContentLoaded",(()=>{const t=new Items,e=new Cart;t.getItems().then((t=>{e.displayCartItems(t)}))}));const domElements=()=>{const t=document.querySelector(".nav__list"),e=document.querySelector(".nav__menu");return{navList:t,navMenu:e,closeNavMenu:()=>{e&&e.classList.remove("show-menu")}}};let{navList:navList,navMenu:navMenu,closeNavMenu:closeNavMenu}=domElements();class NavLinks{getLinks=async()=>{try{const t=await fetch("/data/nav-data/navlinks.json");return await t.json()}catch(t){console.error(t)}};displayLinks=t=>{let e="";t.forEach((t=>{e+=`\n                <li class="nav__item">\n                    <a href="${t.link}" class="nav__link" onclick="closeNavMenu()">${t.text}</a>\n                </li>\n            `})),navList&&navList.insertAdjacentHTML("beforeend",e)}}(async()=>{const t=new NavLinks,e=await t.getLinks();t.displayLinks(e)})();class Products{async getProducts(){try{const t=await fetch("/data/product-data/product-items.json"),e=await t.json();return e}catch(t){console.log(t)}}}class Shop{displayProducts(t){let e="";t.forEach((t=>{e+=`\n                <figure class="products__card">\n                    <img src="${t.image}" alt="" class="products__img">\n                    <h3 class="products__title">${t.title}</h3>\n                    <span class="products__price">${t.price} €</span>\n                    <button class="products__button">\n                        <img src="/app/images/shopping-cart.svg" alt="" width="30px" height="30px">\n                    </button>\n                </figure>\n            `}));const n=document.querySelector(".products__container");return n&&n.insertAdjacentHTML("beforeend",e),t}}function toggleSearch(){const t=document.querySelector(".nav__search"),e=document.querySelector(".nav__search-form"),n=document.querySelector(".close__search"),c=document.querySelector(".nav__search-input");e&&(t.addEventListener("click",(()=>{e.classList.toggle("active-form")})),n.addEventListener("click",(()=>{e.classList.remove("active-form"),c.value=""})))}function filterSearch(){const t=document.querySelector(".nav__search-input").value.toLowerCase();document.querySelectorAll("section").forEach((e=>{t&&e.id.toString().toLowerCase().indexOf(t)>-1&&document.getElementById(e.id).scrollIntoView()}))}function toggleCart(){const t=document.getElementById("cart"),e=document.getElementById("cart-shop"),n=document.getElementById("cart-close");e&&e.addEventListener("click",(()=>{t.classList.add("show-cart")})),n&&n.addEventListener("click",(()=>{t.classList.remove("show-cart")}))}function headerOnScroll(){const t=document.getElementById("header");document.body.scrollTop>0||document.documentElement.scrollTop>0?(t.style.background="#1f1f1f",t.style.boxShadow="0 1px 4px #0a0a0a4d"):0!==document.body.scrollTop&&0!==document.documentElement.scrollTop||(t.style.background="transparent",t.style.boxShadow="none")}function sliderAction(){const t=[...document.querySelectorAll(".testimonial__slide")],e=document.querySelector(".slider__button-prev"),n=document.querySelector(".slider__button-next");let c=0;const s=e=>{e>=t.length?e=0:e<0&&(e=t.length-1),t[c].classList.toggle("active"),t[e].classList.toggle("active"),c=e};n.addEventListener("click",(()=>{s(c+1)})),e.addEventListener("click",(()=>{s(c-1)}))}function toggleMobMenu(){const t=document.getElementById("nav-menu"),e=document.getElementById("nav-toggle"),n=document.getElementById("nav-close"),c=document.querySelector(".nav__search-form");t&&(e.addEventListener("click",(()=>{t.classList.add("show-menu"),function(){if(c.classList.contains("active-form"))c.classList.remove("active-form")}()})),n.addEventListener("click",(()=>{t.classList.remove("show-menu")})))}document.addEventListener("DOMContentLoaded",(()=>{const t=new Products,e=new Shop;t.getProducts().then((t=>{e.displayProducts(t)}))})),window.onscroll=function(){headerOnScroll()},toggleMobMenu(),toggleSearch(),toggleCart(),sliderAction();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BsYXlDYXJ0SXRlbXMuanMiLCJkaXNwbGF5TmF2TGlua3MuanMiLCJkaXNwbGF5UHJvZGN1dHMuanMiLCJmaWx0ZXJTZWFyY2guanMiLCJpbmRleC5qcyIsInNsaWRlckFjdGlvbi5qcyIsInRvZ2dsZU1vYk1lbnUuanMiXSwibmFtZXMiOlsiSXRlbXMiLCJhc3luYyIsInJlc3BvbnNlIiwiZmV0Y2giLCJkYXRhIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIkNhcnQiLCJkaXNwbGF5Q2FydEl0ZW1zIiwiaXRlbXMiLCJyZXN1bHQiLCJmb3JFYWNoIiwiaXRlbSIsImltYWdlIiwidGl0bGUiLCJwcmljZSIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImluc2VydEFkamFjZW50SFRNTCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYXJ0IiwiZ2V0SXRlbXMiLCJ0aGVuIiwiZG9tRWxlbWVudHMiLCJuYXZMaXN0IiwibmF2TWVudSIsImNsb3NlTmF2TWVudSIsImNsYXNzTGlzdCIsInJlbW92ZSIsIk5hdkxpbmtzIiwiZ2V0TGlua3MiLCJkaXNwbGF5TGlua3MiLCJsaW5rcyIsImxpbmsiLCJ0ZXh0IiwibmF2TGlua3MiLCJQcm9kdWN0cyIsIlNob3AiLCJkaXNwbGF5UHJvZHVjdHMiLCJwcm9kdWN0cyIsInByb2R1Y3QiLCJ0b2dnbGVTZWFyY2giLCJzZWFyY2hCdG4iLCJuYXZTZWFyY2hGb3JtIiwiY2xvc2VTZWFyY2giLCJpbnB1dCIsInRvZ2dsZSIsInZhbHVlIiwiZmlsdGVyU2VhcmNoIiwic2VhcmNoVGVybSIsInRvTG93ZXJDYXNlIiwicXVlcnlTZWxlY3RvckFsbCIsInNlY3Rpb24iLCJpZCIsInRvU3RyaW5nIiwiaW5kZXhPZiIsImdldEVsZW1lbnRCeUlkIiwic2Nyb2xsSW50b1ZpZXciLCJ0b2dnbGVDYXJ0IiwiY2FydFNob3AiLCJjYXJ0Q2xvc2UiLCJhZGQiLCJoZWFkZXJPblNjcm9sbCIsImhlYWRlciIsImJvZHkiLCJzY3JvbGxUb3AiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsImJhY2tncm91bmQiLCJib3hTaGFkb3ciLCJzbGlkZXJBY3Rpb24iLCJzbGlkZXMiLCJwcmV2QnRuIiwibmV4dEJ0biIsImN1cnJlbnRTbGlkZSIsImNoYW5nZVNsaWRlIiwic2xpZGUiLCJsZW5ndGgiLCJ0b2dnbGVNb2JNZW51IiwibmF2VG9nZ2xlIiwibmF2Q2xvc2UiLCJjb250YWlucyIsImNsb3NlU2VhcmNoRm9ybSIsInNob3AiLCJnZXRQcm9kdWN0cyIsIndpbmRvdyIsIm9uc2Nyb2xsIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFBQSxNQUNBQyxpQkFDQSxJQUNBLE1BQUFDLFFBQUFDLE1BQUEsbUNBQ0FDLFFBQUFGLEVBQUFHLE9BR0EsT0FEQUQsRUFHQSxNQUFBRSxHQUNBQyxRQUFBQyxJQUFBRixLQUtBLE1BQUFHLEtBQ0FDLGlCQUFBQyxHQUNBLElBQUFDLEVBQUEsR0FDQUQsRUFBQUUsU0FBQUMsSUFDQUYsR0FBQSxpSUFHQUUsRUFBQUMsa0tBR0FELEVBQUFFLGlFQUNBRixFQUFBRyw4NEJBaUJBLE1BQUFDLEVBQUFDLFNBQUFDLGNBQUEsb0JBSUEsT0FIQUYsR0FDQUEsRUFBQUcsbUJBQUEsWUFBQVQsR0FFQUQsR0FJQVEsU0FBQUcsaUJBQUEsb0JBQUEsS0FDQSxNQUFBWCxFQUFBLElBQUFYLE1BQ0F1QixFQUFBLElBQUFkLEtBRUFFLEVBQUFhLFdBQUFDLE1BQUFkLElBQ0FZLEVBQUFiLGlCQUFBQyxTQ3REQSxNQUFBZSxZQUFBLEtBQ0EsTUFBQUMsRUFBQVIsU0FBQUMsY0FBQSxjQUNBUSxFQUFBVCxTQUFBQyxjQUFBLGNBTUEsTUFBQSxDQUFBTyxVQUFBQyxVQUFBQyxhQUxBLEtBQ0FELEdBQ0FBLEVBQUFFLFVBQUFDLE9BQUEsZ0JBTUEsSUFBQUosUUFBQUEsUUFBQUMsUUFBQUEsUUFBQUMsYUFBQUEsY0FBQUgsY0FFQSxNQUFBTSxTQUNBQyxTQUFBaEMsVUFDQSxJQUNBLE1BQUFDLFFBQUFD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LEVBQUEvRCxTQUFBd0MsZUFBQSxjQUNBd0IsRUFBQWhFLFNBQUF3QyxlQUFBLGFBQ0FiLEVBQUEzQixTQUFBQyxjQUFBLHFCQUVBUSxJQUNBc0QsRUFBQTVELGlCQUFBLFNBQUEsS0FDQU0sRUFBQUUsVUFBQWtDLElBQUEsYUFTQSxXQUNBLEdBQUFsQixFQUFBaEIsVUFBQXNELFNBQUEsZUFDQXRDLEVBQUFoQixVQUFBQyxPQUFBLGVBVkFzRCxNQUdBRixFQUFBN0QsaUJBQUEsU0FBQSxLQUNBTSxFQUFBRSxVQUFBQyxPQUFBLGlCSnlCQVosU0FBQUcsaUJBQUEsb0JBQUEsS0FDQSxNQUFBb0IsRUFBQSxJQUFBSCxTQUNBK0MsRUFBQSxJQUFBOUMsS0FFQUUsRUFBQTZDLGNBQUE5RCxNQUFBaUIsSUFDQTRDLEVBQUE3QyxnQkFBQUMsU0VYQThDLE9BQUFDLFNBQUEsV0FDQXhCLGtCQUlBZ0IsZ0JBQ0FyQyxlQUNBaUIsYUFDQVkiLCJmaWxlIjoiYWxsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgSXRlbXMge1xyXG4gICAgYXN5bmMgZ2V0SXRlbXMoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9kYXRhL2NhcnQtZGF0YS9jYXJ0LWl0ZW1zLmpzb25cIilcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKVxyXG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IGRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmNsYXNzIENhcnQge1xyXG4gICAgZGlzcGxheUNhcnRJdGVtcyhpdGVtcykge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBgXHJcbiAgICAgICAgICAgICAgICA8ZmlndXJlIGNsYXNzPVwiY2FydF9fY2FyZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJ0X19ib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke2l0ZW0uaW1hZ2V9XCIgYWx0PVwiXCIgY2xhc3M9XCJjYXJ0X19pbWdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FydF9fZGV0YWlsc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJjYXJ0X190aXRsZVwiPiR7aXRlbS50aXRsZX08L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNhcnRfX3ByaWNlXCI+JHtpdGVtLnByaWNlfSDigqw8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJ0X19hbW91bnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJ0X19hbW91bnQtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FydF9fYW1vdW50LWJveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi9hcHAvaW1hZ2VzL2NoZXZyb24tZG93bi5zdmdcIiBhbHQ9XCJcIiB3aWR0aD1cIjIwcHhcIiBoZWlnaHQ9XCIyMHB4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FydF9hbW91bnQtbnVtYmVyXCI+MDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNhcnRfX2Ftb3VudC1ib3hcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIvYXBwL2ltYWdlcy9jaGV2cm9uLXVwLnN2Z1wiIGFsdD1cIlwiIHdpZHRoPVwiMjBweFwiIGhlaWdodD1cIjIwcHhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiL2FwcC9pbWFnZXMvY2FuLXRyYXNoLnN2Z1wiIGFsdD1cIlwiIGNsYXNzPVwiY2FydF9fYW1vdW50LXRyYXNoXCIgd2lkdGg9XCIyMHB4XCIgaGVpZ2h0PVwiMjBweFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZmlndXJlPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcnRfX2NvbnRhaW5lclwiKVxyXG4gICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCByZXN1bHQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpdGVtcztcclxuICAgIH1cclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgaXRlbXMgPSBuZXcgSXRlbXMoKTtcclxuICAgIGNvbnN0IGNhcnQgPSBuZXcgQ2FydCgpXHJcblxyXG4gICAgaXRlbXMuZ2V0SXRlbXMoKS50aGVuKGl0ZW1zID0+IHtcclxuICAgICAgICBjYXJ0LmRpc3BsYXlDYXJ0SXRlbXMoaXRlbXMpXHJcbiAgICB9KVxyXG59KSIsIlwidXNlIHN0cmljdFwiXHJcblxyXG5jb25zdCBkb21FbGVtZW50cyA9ICgpID0+IHtcclxuICAgIGNvbnN0IG5hdkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbGlzdFwiKVxyXG4gICAgY29uc3QgbmF2TWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19tZW51XCIpXHJcbiAgICBjb25zdCBjbG9zZU5hdk1lbnUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKG5hdk1lbnUpIHtcclxuICAgICAgICAgICAgbmF2TWVudS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1tZW51XCIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtuYXZMaXN0LCBuYXZNZW51LCBjbG9zZU5hdk1lbnV9XHJcbn07XHJcblxyXG5sZXQge25hdkxpc3QsIG5hdk1lbnUsIGNsb3NlTmF2TWVudX0gPSBkb21FbGVtZW50cygpXHJcblxyXG5jbGFzcyBOYXZMaW5rcyB7XHJcbiAgICBnZXRMaW5rcyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2RhdGEvbmF2LWRhdGEvbmF2bGlua3MuanNvblwiKVxyXG4gICAgICAgICAgICBjb25zdCBsaW5rcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIGxpbmtzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheUxpbmtzID0gbGlua3MgPT4ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xyXG4gICAgICAgIGxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcbiAgICAgICAgICAgIHJlc3VsdCArPSBgXHJcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXZfX2l0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiJHtsaW5rLmxpbmt9XCIgY2xhc3M9XCJuYXZfX2xpbmtcIiBvbmNsaWNrPVwiY2xvc2VOYXZNZW51KClcIj4ke2xpbmsudGV4dH08L2E+XHJcbiAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKG5hdkxpc3QpIG5hdkxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIHJlc3VsdClcclxuICAgIH1cclxufTtcclxuXHJcbihhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBuYXZMaW5rcyA9IG5ldyBOYXZMaW5rcygpXHJcbiAgICBjb25zdCBsaW5rcyA9IGF3YWl0IG5hdkxpbmtzLmdldExpbmtzKClcclxuXHJcbiAgICBuYXZMaW5rcy5kaXNwbGF5TGlua3MobGlua3MpXHJcbn0pKCk7IiwiY2xhc3MgUHJvZHVjdHN7XHJcbiAgICBhc3luYyBnZXRQcm9kdWN0cygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2RhdGEvcHJvZHVjdC1kYXRhL3Byb2R1Y3QtaXRlbXMuanNvblwiKVxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RzID0gZGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2R1Y3RzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuY2xhc3MgU2hvcCB7XHJcbiAgICBkaXNwbGF5UHJvZHVjdHMocHJvZHVjdHMpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgICAgICBwcm9kdWN0cy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gYFxyXG4gICAgICAgICAgICAgICAgPGZpZ3VyZSBjbGFzcz1cInByb2R1Y3RzX19jYXJkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3Byb2R1Y3QuaW1hZ2V9XCIgYWx0PVwiXCIgY2xhc3M9XCJwcm9kdWN0c19faW1nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwicHJvZHVjdHNfX3RpdGxlXCI+JHtwcm9kdWN0LnRpdGxlfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9kdWN0c19fcHJpY2VcIj4ke3Byb2R1Y3QucHJpY2V9IOKCrDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHJvZHVjdHNfX2J1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi9hcHAvaW1hZ2VzL3Nob3BwaW5nLWNhcnQuc3ZnXCIgYWx0PVwiXCIgd2lkdGg9XCIzMHB4XCIgaGVpZ2h0PVwiMzBweFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9maWd1cmU+XHJcbiAgICAgICAgICAgIGBcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdHNfX2NvbnRhaW5lclwiKVxyXG4gICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCByZXN1bHQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9kdWN0cztcclxuICAgIH1cclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICAgIGNvbnN0IHByb2R1Y3RzID0gbmV3IFByb2R1Y3RzKCkgXHJcbiAgICBjb25zdCBzaG9wID0gbmV3IFNob3AoKVxyXG5cclxuICAgIHByb2R1Y3RzLmdldFByb2R1Y3RzKCkudGhlbihwcm9kdWN0cyA9PiB7XHJcbiAgICAgICAgc2hvcC5kaXNwbGF5UHJvZHVjdHMocHJvZHVjdHMpXHJcbiAgICB9KVxyXG59KSIsImZ1bmN0aW9uIHRvZ2dsZVNlYXJjaCgpIHtcclxuICAgIGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19zZWFyY2hcIilcclxuICAgIGNvbnN0IG5hdlNlYXJjaEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fc2VhcmNoLWZvcm1cIilcclxuICAgIGNvbnN0IGNsb3NlU2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZV9fc2VhcmNoXCIpXHJcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19zZWFyY2gtaW5wdXRcIik7XHJcblxyXG4gICAgaWYgKG5hdlNlYXJjaEZvcm0pIHtcclxuICAgICAgICBzZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbmF2U2VhcmNoRm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlLWZvcm1cIilcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjbG9zZVNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBuYXZTZWFyY2hGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtZm9ybVwiKVxyXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmlsdGVyU2VhcmNoKCkge1xyXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fc2VhcmNoLWlucHV0XCIpXHJcbiAgICBjb25zdCBzZWFyY2hUZXJtID0gaW5wdXQudmFsdWUudG9Mb3dlckNhc2UoKVxyXG4gICAgY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2VjdGlvblwiKVxyXG5cclxuICAgIHNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcbiAgICAgICAgaWYgKHNlYXJjaFRlcm0gJiYgc2VjdGlvbi5pZC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hUZXJtKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlY3Rpb24uaWQpLnNjcm9sbEludG9WaWV3KClcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59OyIsImZ1bmN0aW9uIHRvZ2dsZUNhcnQoKSB7XHJcbiAgICBjb25zdCBjYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJ0XCIpXHJcbiAgICBjb25zdCBjYXJ0U2hvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FydC1zaG9wXCIpXHJcbiAgICBjb25zdCBjYXJ0Q2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhcnQtY2xvc2VcIilcclxuXHJcbiAgICBpZiAoY2FydFNob3ApIHtcclxuICAgICAgICBjYXJ0U2hvcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjYXJ0LmNsYXNzTGlzdC5hZGQoXCJzaG93LWNhcnRcIilcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjYXJ0Q2xvc2UpIHtcclxuICAgICAgICBjYXJ0Q2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY2FydC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1jYXJ0XCIpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGVhZGVyT25TY3JvbGwoKSB7XHJcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYWRlclwiKTtcclxuXHJcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPiAwIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPiAwKSB7XHJcbiAgICAgICAgaGVhZGVyLnN0eWxlLmJhY2tncm91bmQgPSBcIiMxZjFmMWZcIjtcclxuICAgICAgICBoZWFkZXIuc3R5bGUuYm94U2hhZG93ID0gXCIwIDFweCA0cHggIzBhMGEwYTRkXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID09PSAwIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPT09IDApe1xyXG4gICAgICAgIGhlYWRlci5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ0cmFuc3BhcmVudFwiO1xyXG4gICAgICAgIGhlYWRlci5zdHlsZS5ib3hTaGFkb3cgPSBcIm5vbmVcIlxyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbndpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaGVhZGVyT25TY3JvbGwoKVxyXG59O1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHRvZ2dsZU1vYk1lbnUoKVxyXG4gICAgdG9nZ2xlU2VhcmNoKClcclxuICAgIHRvZ2dsZUNhcnQoKVxyXG4gICAgc2xpZGVyQWN0aW9uKClcclxufSkoKTtcclxuIiwiZnVuY3Rpb24gc2xpZGVyQWN0aW9uKCkge1xyXG4gICAgY29uc3Qgc2xpZGVzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGVzdGltb25pYWxfX3NsaWRlXCIpXTtcclxuICAgIGNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlcl9fYnV0dG9uLXByZXZcIik7XHJcbiAgICBjb25zdCBuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXJfX2J1dHRvbi1uZXh0XCIpO1xyXG5cclxuICAgIGxldCBjdXJyZW50U2xpZGUgPSAwO1xyXG5cclxuICAgIGNvbnN0IGNoYW5nZVNsaWRlID0gc2xpZGUgPT4ge1xyXG4gICAgICAgIGlmIChzbGlkZSA+PSBzbGlkZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHNsaWRlID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHNsaWRlIDwgMCkge1xyXG4gICAgICAgICAgICBzbGlkZSA9IHNsaWRlcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2xpZGVzW2N1cnJlbnRTbGlkZV0uY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBzbGlkZXNbc2xpZGVdLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgIGN1cnJlbnRTbGlkZSA9IHNsaWRlO1xyXG4gICAgfTtcclxuXHJcbiAgICBuZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgY2hhbmdlU2xpZGUoY3VycmVudFNsaWRlICsgMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgY2hhbmdlU2xpZGUoY3VycmVudFNsaWRlIC0gMSk7XHJcbiAgICB9KTtcclxufVxyXG47XHJcbiIsImZ1bmN0aW9uIHRvZ2dsZU1vYk1lbnUoKSB7XHJcbiAgICBjb25zdCBuYXZNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXYtbWVudVwiKTtcclxuICAgIGNvbnN0IG5hdlRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2LXRvZ2dsZVwiKTtcclxuICAgIGNvbnN0IG5hdkNsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXYtY2xvc2VcIik7XHJcbiAgICBjb25zdCBuYXZTZWFyY2hGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX3NlYXJjaC1mb3JtXCIpXHJcblxyXG4gICAgaWYgKG5hdk1lbnUpIHtcclxuICAgICAgICBuYXZUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbmF2TWVudS5jbGFzc0xpc3QuYWRkKFwic2hvdy1tZW51XCIpO1xyXG4gICAgICAgICAgICBjbG9zZVNlYXJjaEZvcm0oKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuYXZDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBuYXZNZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LW1lbnVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xvc2VTZWFyY2hGb3JtKCkge1xyXG4gICAgICAgIGlmIChuYXZTZWFyY2hGb3JtLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1mb3JtXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYXZTZWFyY2hGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtZm9ybVwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuIl19
