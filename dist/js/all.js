class Items{async getItems(){try{const t=await fetch("/data/cart-data/cart-items.json"),e=await t.json();return e}catch(t){console.log(t)}}}class Cart{displayCartItems(t){let e="";t.forEach((t=>{e+=`\n                <figure class="cart__card">\n                    <div class="cart__box">\n                        <img src="${t.image}" alt="" class="cart__img">\n                    </div>\n                    <div class="cart__details">\n                        <h4 class="cart__title">${t.title}</h4>\n                        <span class="cart__price">${t.price} €</span>\n                        <div class="cart__amount">\n                            <div class="cart__amount-content">\n                                <span class="cart__amount-box">\n                                    <img src="/app/images/chevron-down.svg" alt="" width="20px" height="20px">\n                                </span>\n                                <span class="cart_amount-number">0</span>\n                                <span class="cart__amount-box">\n                                    <img src="/app/images/chevron-up.svg" alt="" width="20px" height="20px">\n                                </span>\n                            </div>\n                            <img src="/app/images/can-trash.svg" alt="" class="cart__amount-trash" width="20px" height="20px">\n                        </div>\n                    </div>\n                </figure>\n            `}));const n=document.querySelector(".cart__container");return n&&n.insertAdjacentHTML("beforeend",e),t}}document.addEventListener("DOMContentLoaded",(()=>{const t=new Items,e=new Cart;t.getItems().then((t=>{e.displayCartItems(t)}))}));class Products{async getProducts(){try{const t=await fetch("/data/product-data/product-items.json"),e=await t.json();return e}catch(t){console.log(t)}}}class Shop{displayProducts(t){let e="";t.forEach((t=>{e+=`\n                <figure class="products__card">\n                    <img src="${t.image}" alt="" class="products__img">\n                    <h3 class="products__title">${t.title}</h3>\n                    <span class="products__price">${t.price} €</span>\n                    <button class="products__button">\n                        <img src="/app/images/shopping-cart.svg" alt="" width="30px" height="30px">\n                    </button>\n                </figure>\n            `}));const n=document.querySelector(".products__container");return n&&n.insertAdjacentHTML("beforeend",e),t}}function toggleSearch(){const t=document.querySelector(".nav__search"),e=document.querySelector(".nav__search-form"),n=document.querySelector(".close__search"),c=document.querySelector(".nav__search-input");e&&(t.addEventListener("click",(()=>{e.classList.toggle("active-form")})),n.addEventListener("click",(()=>{e.classList.remove("active-form"),c.value=""})))}function filterSearch(){const t=document.querySelector(".nav__search-input").value.toLowerCase();document.querySelectorAll("section").forEach((e=>{t&&e.id.toString().toLowerCase().indexOf(t)>-1&&document.getElementById(e.id).scrollIntoView()}))}function toggleCart(){const t=document.getElementById("cart"),e=document.getElementById("cart-shop"),n=document.getElementById("cart-close");e&&e.addEventListener("click",(()=>{t.classList.add("show-cart")})),n&&n.addEventListener("click",(()=>{t.classList.remove("show-cart")}))}function headerOnScroll(){const t=document.getElementById("header");document.body.scrollTop>0||document.documentElement.scrollTop>0?(t.style.background="#1f1f1f",t.style.boxShadow="0 1px 4px #0a0a0a4d"):0!==document.body.scrollTop&&0!==document.documentElement.scrollTop||(t.style.background="transparent",t.style.boxShadow="none")}function sliderAction(){const t=[...document.querySelectorAll(".testimonial__slide")],e=document.querySelector(".slider__button-prev"),n=document.querySelector(".slider__button-next");let c=0;const s=e=>{e>=t.length?e=0:e<0&&(e=t.length-1),t[c].classList.toggle("active"),t[e].classList.toggle("active"),c=e};n.addEventListener("click",(()=>{s(c+1)})),e.addEventListener("click",(()=>{s(c-1)}))}function toggleMobMenu(){const t=document.getElementById("nav-menu"),e=document.getElementById("nav-toggle"),n=document.getElementById("nav-close"),c=document.querySelectorAll(".nav__link"),s=document.querySelector(".nav__search-form");t&&(e.addEventListener("click",(()=>{t.classList.add("show-menu"),function(){if(s.classList.contains("active-form"))s.classList.remove("active-form")}()})),n.addEventListener("click",(()=>{t.classList.remove("show-menu")})),c.forEach((e=>{e.addEventListener("click",(()=>{t.classList.remove("show-menu")}))})))}document.addEventListener("DOMContentLoaded",(()=>{const t=new Products,e=new Shop;t.getProducts().then((t=>{e.displayProducts(t)}))})),window.onscroll=function(){headerOnScroll()},toggleMobMenu(),toggleSearch(),toggleCart(),sliderAction();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc3BsYXlDYXJ0SXRlbXMuanMiLCJkaXNwbGF5UHJvZGN1dHMuanMiLCJmaWx0ZXJTZWFyY2guanMiLCJpbmRleC5qcyIsInNsaWRlckFjdGlvbi5qcyIsInRvZ2dsZU1vYk1lbnUuanMiXSwibmFtZXMiOlsiSXRlbXMiLCJhc3luYyIsInJlc3BvbnNlIiwiZmV0Y2giLCJkYXRhIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIkNhcnQiLCJkaXNwbGF5Q2FydEl0ZW1zIiwiaXRlbXMiLCJyZXN1bHQiLCJmb3JFYWNoIiwiaXRlbSIsImltYWdlIiwidGl0bGUiLCJwcmljZSIsImNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImluc2VydEFkamFjZW50SFRNTCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYXJ0IiwiZ2V0SXRlbXMiLCJ0aGVuIiwiUHJvZHVjdHMiLCJTaG9wIiwiZGlzcGxheVByb2R1Y3RzIiwicHJvZHVjdHMiLCJwcm9kdWN0IiwidG9nZ2xlU2VhcmNoIiwic2VhcmNoQnRuIiwibmF2U2VhcmNoRm9ybSIsImNsb3NlU2VhcmNoIiwiaW5wdXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmUiLCJ2YWx1ZSIsImZpbHRlclNlYXJjaCIsInNlYXJjaFRlcm0iLCJ0b0xvd2VyQ2FzZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZWN0aW9uIiwiaWQiLCJ0b1N0cmluZyIsImluZGV4T2YiLCJnZXRFbGVtZW50QnlJZCIsInNjcm9sbEludG9WaWV3IiwidG9nZ2xlQ2FydCIsImNhcnRTaG9wIiwiY2FydENsb3NlIiwiYWRkIiwiaGVhZGVyT25TY3JvbGwiLCJoZWFkZXIiLCJib2R5Iiwic2Nyb2xsVG9wIiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiYm94U2hhZG93Iiwic2xpZGVyQWN0aW9uIiwic2xpZGVzIiwicHJldkJ0biIsIm5leHRCdG4iLCJjdXJyZW50U2xpZGUiLCJjaGFuZ2VTbGlkZSIsInNsaWRlIiwibGVuZ3RoIiwidG9nZ2xlTW9iTWVudSIsIm5hdk1lbnUiLCJuYXZUb2dnbGUiLCJuYXZDbG9zZSIsIm5hdkxpbmsiLCJjb250YWlucyIsImNsb3NlU2VhcmNoRm9ybSIsImxpbmsiLCJzaG9wIiwiZ2V0UHJvZHVjdHMiLCJ3aW5kb3ciLCJvbnNjcm9sbCJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBQUEsTUFDQUMsaUJBQ0EsSUFDQSxNQUFBQyxRQUFBQyxNQUFBLG1DQUNBQyxRQUFBRixFQUFBRyxPQUdBLE9BREFELEVBR0EsTUFBQUUsR0FDQUMsUUFBQUMsSUFBQUYsS0FLQSxNQUFBRyxLQUNBQyxpQkFBQUMsR0FDQSxJQUFBQyxFQUFBLEdBQ0FELEVBQUFFLFNBQUFDLElBQ0FGLEdBQUEsaUlBR0FFLEVBQUFDLGtLQUdBRCxFQUFBRSxpRUFDQUYsRUFBQUcsODRCQWlCQSxNQUFBQyxFQUFBQyxTQUFBQyxjQUFBLG9CQUlBLE9BSEFGLEdBQ0FBLEVBQUFHLG1CQUFBLFlBQUFULEdBRUFELEdBSUFRLFNBQUFHLGlCQUFBLG9CQUFBLEtBQ0EsTUFBQVgsRUFBQSxJQUFBWCxNQUNBdUIsRUFBQSxJQUFBZCxLQUVBRSxFQUFBYSxXQUFBQyxNQUFBZCxJQUNBWSxFQUFBYixpQkFBQUMsU0N4REEsTUFBQWUsU0FDQXpCLG9CQUNBLElBQ0EsTUFBQUMsUUFBQUMsTUFBQSx5Q0FDQUMsUUFBQUYsRUFBQUcsT0FHQSxPQURBRCxFQUdBLE1BQUFFLEdBQ0FDLFFBQUFDLElBQUFGLEtBS0EsTUFBQXFCLEtBQ0FDLGdCQUFBQyxHQUNBLElBQUFqQixFQUFBLEdBQ0FpQixFQUFBaEIsU0FBQWlCLElBQ0FsQixHQUFBLG9GQUVBa0IsRUFBQWYseUZBQ0FlLEVBQUFkLGlFQUNBYyxFQUFBYix3UEFPQSxNQUFBQyxFQUFBQyxTQUFBQyxjQUFBLHdCQUlBLE9BSEFGLEdBQ0FBLEVBQUFHLG1CQUFBLFlBQUFULEdBRUFpQixHQ2xDQSxTQUFBRSxlQUNBLE1BQUFDLEVBQUFiLFNBQUFDLGNBQUEsZ0JBQ0FhLEVBQUFkLFNBQUFDLGNBQUEscUJBQ0FjLEVBQUFmLFNBQUFDLGNBQUEsa0JBQ0FlLEVBQUFoQixTQUFBQyxjQUFBLHNCQUVBYSxJQUNBRCxFQUFBVixpQkFBQSxTQUFBLEtBQ0FXLEVBQUFHLFVBQUFDLE9BQUEsa0JBR0FILEVBQUFaLGlCQUFBLFNBQUEsS0FDQVcsRUFBQUcsVUFBQUUsT0FBQSxlQUNBSCxFQUFBSSxNQUFBLE9BS0EsU0FBQUMsZUFDQSxNQUNBQyxFQURBdEIsU0FBQUMsY0FBQSxzQkFDQW1CLE1BQUFHLGNBQ0F2QixTQUFBd0IsaUJBQUEsV0FFQTlCLFNBQUErQixJQUNBSCxHQUFBRyxFQUFBQyxHQUFBQyxXQUFBSixjQUFBSyxRQUFBTixJQUFBLEdBQ0F0QixTQUFBNkIsZUFBQUosRUFBQUMsSUFBQUksb0JDekJBLFNBQUFDLGFBQ0EsTUFBQTNCLEVBQUFKLFNBQUE2QixlQUFBLFFBQ0FHLEVBQUFoQyxTQUFBNkIsZUFBQSxhQUNBSSxFQUFBakMsU0FBQTZCLGVBQUEsY0FFQUcsR0FDQUEsRUFBQTdCLGlCQUFBLFNBQUEsS0FDQUMsRUFBQWEsVUFBQWlCLElBQUEsZ0JBSUFELEdBQ0FBLEVBQUE5QixpQkFBQSxTQUFBLEtBQ0FDLEVBQUFhLFVBQUFFLE9BQUEsZ0JBS0EsU0FBQWdCLGlCQUNBLE1BQUFDLEVBQUFwQyxTQUFBNkIsZUFBQSxVQUVBN0IsU0FBQXFDLEtBQUFDLFVBQUEsR0FBQXRDLFNBQUF1QyxnQkFBQUQsVUFBQSxHQUNBRixFQUFBSSxNQUFBQyxXQUFBLFVBQ0FMLEVBQUFJLE1BQUFFLFVBQUEsdUJBRUEsSUFBQTFDLFNBQUFxQyxLQUFBQyxXQUFBLElBQUF0QyxTQUFBdUMsZ0JBQUFELFlBQ0FGLEVBQUFJLE1BQUFDLFdBQUEsY0FDQUwsRUFBQUksTUFBQUUsVUFBQSxRQzNCQSxTQUFBQyxlQUNBLE1BQUFDLEVBQUEsSUFBQTVDLFNBQUF3QixpQkFBQSx3QkFDQXFCLEVBQUE3QyxTQUFBQyxjQUFBLHdCQUNBNkMsRUFBQTlDLFNBQUFDLGNBQUEsd0JBRUEsSUFBQThDLEVBQUEsRUFFQSxNQUFBQyxFQUFBQyxJQUNBQSxHQUFBTCxFQUFBTSxPQUNBRCxFQUFBLEVBQ0FBLEVBQUEsSUFDQUEsRUFBQUwsRUFBQU0sT0FBQSxHQUdBTixFQUFBRyxHQUFBOUIsVUFBQUMsT0FBQSxVQUNBMEIsRUFBQUssR0FBQWhDLFVBQUFDLE9BQUEsVUFFQTZCLEVBQUFFLEdBR0FILEVBQUEzQyxpQkFBQSxTQUFBLEtBQ0E2QyxFQUFBRCxFQUFBLE1BR0FGLEVBQUExQyxpQkFBQSxTQUFBLEtBQ0E2QyxFQUFBRCxFQUFBLE1DekJBLFNBQUFJLGdCQUNBLE1BQUFDLEVBQUFwRCxTQUFBNkIsZUFBQSxZQUNBd0IsRUFBQXJELFNBQUE2QixlQUFBLGNBQ0F5QixFQUFBdEQsU0FBQTZCLGVBQUEsYUFDQTBCLEVBQUF2RCxTQUFBd0IsaUJBQUEsY0FDQVYsRUFBQWQsU0FBQUMsY0FBQSxxQkFFQW1ELElBQ0FDLEVBQUFsRCxpQkFBQSxTQUFBLEtBQ0FpRCxFQUFBbkMsVUFBQWlCLElBQUEsYUFlQSxXQUNBLEdBQUFwQixFQUFBRyxVQUFBdUMsU0FBQSxlQUNBMUMsRUFBQUcsVUFBQUUsT0FBQSxlQWhCQXNDLE1BR0FILEVBQUFuRCxpQkFBQSxTQUFBLEtBQ0FpRCxFQUFBbkMsVUFBQUUsT0FBQSxnQkFHQW9DLEVBQUE3RCxTQUFBZ0UsSUFDQUEsRUFBQXZELGlCQUFBLFNBQUEsS0FDQWlELEVBQUFuQyxVQUFBRSxPQUFBLG9CSm1CQW5CLFNBQUFHLGlCQUFBLG9CQUFBLEtBQ0EsTUFBQU8sRUFBQSxJQUFBSCxTQUNBb0QsRUFBQSxJQUFBbkQsS0FFQUUsRUFBQWtELGNBQUF0RCxNQUFBSSxJQUNBaUQsRUFBQWxELGdCQUFBQyxTRVhBbUQsT0FBQUMsU0FBQSxXQUNBM0Isa0JBSUFnQixnQkFDQXZDLGVBQ0FtQixhQUNBWSIsImZpbGUiOiJhbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBJdGVtcyB7XHJcbiAgICBhc3luYyBnZXRJdGVtcygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2RhdGEvY2FydC1kYXRhL2NhcnQtaXRlbXMuanNvblwiKVxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gZGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuY2xhc3MgQ2FydCB7XHJcbiAgICBkaXNwbGF5Q2FydEl0ZW1zKGl0ZW1zKSB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgcmVzdWx0ICs9IGBcclxuICAgICAgICAgICAgICAgIDxmaWd1cmUgY2xhc3M9XCJjYXJ0X19jYXJkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcnRfX2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7aXRlbS5pbWFnZX1cIiBhbHQ9XCJcIiBjbGFzcz1cImNhcnRfX2ltZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJ0X19kZXRhaWxzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImNhcnRfX3RpdGxlXCI+JHtpdGVtLnRpdGxlfTwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FydF9fcHJpY2VcIj4ke2l0ZW0ucHJpY2V9IOKCrDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcnRfX2Ftb3VudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcnRfX2Ftb3VudC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXJ0X19hbW91bnQtYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiL2FwcC9pbWFnZXMvY2hldnJvbi1kb3duLnN2Z1wiIGFsdD1cIlwiIHdpZHRoPVwiMjBweFwiIGhlaWdodD1cIjIwcHhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXJ0X2Ftb3VudC1udW1iZXJcIj4wPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FydF9fYW1vdW50LWJveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi9hcHAvaW1hZ2VzL2NoZXZyb24tdXAuc3ZnXCIgYWx0PVwiXCIgd2lkdGg9XCIyMHB4XCIgaGVpZ2h0PVwiMjBweFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIvYXBwL2ltYWdlcy9jYW4tdHJhc2guc3ZnXCIgYWx0PVwiXCIgY2xhc3M9XCJjYXJ0X19hbW91bnQtdHJhc2hcIiB3aWR0aD1cIjIwcHhcIiBoZWlnaHQ9XCIyMHB4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9maWd1cmU+XHJcbiAgICAgICAgICAgIGBcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FydF9fY29udGFpbmVyXCIpXHJcbiAgICAgICAgaWYgKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIHJlc3VsdClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgfVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCBpdGVtcyA9IG5ldyBJdGVtcygpO1xyXG4gICAgY29uc3QgY2FydCA9IG5ldyBDYXJ0KClcclxuXHJcbiAgICBpdGVtcy5nZXRJdGVtcygpLnRoZW4oaXRlbXMgPT4ge1xyXG4gICAgICAgIGNhcnQuZGlzcGxheUNhcnRJdGVtcyhpdGVtcylcclxuICAgIH0pXHJcbn0pIiwiY2xhc3MgUHJvZHVjdHN7XHJcbiAgICBhc3luYyBnZXRQcm9kdWN0cygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2RhdGEvcHJvZHVjdC1kYXRhL3Byb2R1Y3QtaXRlbXMuanNvblwiKVxyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RzID0gZGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2R1Y3RzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuY2xhc3MgU2hvcCB7XHJcbiAgICBkaXNwbGF5UHJvZHVjdHMocHJvZHVjdHMpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcclxuICAgICAgICBwcm9kdWN0cy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gYFxyXG4gICAgICAgICAgICAgICAgPGZpZ3VyZSBjbGFzcz1cInByb2R1Y3RzX19jYXJkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3Byb2R1Y3QuaW1hZ2V9XCIgYWx0PVwiXCIgY2xhc3M9XCJwcm9kdWN0c19faW1nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwicHJvZHVjdHNfX3RpdGxlXCI+JHtwcm9kdWN0LnRpdGxlfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9kdWN0c19fcHJpY2VcIj4ke3Byb2R1Y3QucHJpY2V9IOKCrDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHJvZHVjdHNfX2J1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi9hcHAvaW1hZ2VzL3Nob3BwaW5nLWNhcnQuc3ZnXCIgYWx0PVwiXCIgd2lkdGg9XCIzMHB4XCIgaGVpZ2h0PVwiMzBweFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9maWd1cmU+XHJcbiAgICAgICAgICAgIGBcclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZHVjdHNfX2NvbnRhaW5lclwiKVxyXG4gICAgICAgIGlmIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCByZXN1bHQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9kdWN0cztcclxuICAgIH1cclxufTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICAgIGNvbnN0IHByb2R1Y3RzID0gbmV3IFByb2R1Y3RzKCkgXHJcbiAgICBjb25zdCBzaG9wID0gbmV3IFNob3AoKVxyXG5cclxuICAgIHByb2R1Y3RzLmdldFByb2R1Y3RzKCkudGhlbihwcm9kdWN0cyA9PiB7XHJcbiAgICAgICAgc2hvcC5kaXNwbGF5UHJvZHVjdHMocHJvZHVjdHMpXHJcbiAgICB9KVxyXG59KSIsImZ1bmN0aW9uIHRvZ2dsZVNlYXJjaCgpIHtcclxuICAgIGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19zZWFyY2hcIilcclxuICAgIGNvbnN0IG5hdlNlYXJjaEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fc2VhcmNoLWZvcm1cIilcclxuICAgIGNvbnN0IGNsb3NlU2VhcmNoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZV9fc2VhcmNoXCIpXHJcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19zZWFyY2gtaW5wdXRcIik7XHJcblxyXG4gICAgaWYgKG5hdlNlYXJjaEZvcm0pIHtcclxuICAgICAgICBzZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbmF2U2VhcmNoRm9ybS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlLWZvcm1cIilcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjbG9zZVNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBuYXZTZWFyY2hGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtZm9ybVwiKVxyXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmlsdGVyU2VhcmNoKCkge1xyXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fc2VhcmNoLWlucHV0XCIpXHJcbiAgICBjb25zdCBzZWFyY2hUZXJtID0gaW5wdXQudmFsdWUudG9Mb3dlckNhc2UoKVxyXG4gICAgY29uc3Qgc2VjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2VjdGlvblwiKVxyXG5cclxuICAgIHNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcbiAgICAgICAgaWYgKHNlYXJjaFRlcm0gJiYgc2VjdGlvbi5pZC50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWFyY2hUZXJtKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlY3Rpb24uaWQpLnNjcm9sbEludG9WaWV3KClcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59OyIsImZ1bmN0aW9uIHRvZ2dsZUNhcnQoKSB7XHJcbiAgICBjb25zdCBjYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJ0XCIpXHJcbiAgICBjb25zdCBjYXJ0U2hvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FydC1zaG9wXCIpXHJcbiAgICBjb25zdCBjYXJ0Q2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhcnQtY2xvc2VcIilcclxuXHJcbiAgICBpZiAoY2FydFNob3ApIHtcclxuICAgICAgICBjYXJ0U2hvcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjYXJ0LmNsYXNzTGlzdC5hZGQoXCJzaG93LWNhcnRcIilcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjYXJ0Q2xvc2UpIHtcclxuICAgICAgICBjYXJ0Q2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY2FydC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1jYXJ0XCIpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGVhZGVyT25TY3JvbGwoKSB7XHJcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlYWRlclwiKTtcclxuXHJcbiAgICBpZiAoZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPiAwIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPiAwKSB7XHJcbiAgICAgICAgaGVhZGVyLnN0eWxlLmJhY2tncm91bmQgPSBcIiMxZjFmMWZcIjtcclxuICAgICAgICBoZWFkZXIuc3R5bGUuYm94U2hhZG93ID0gXCIwIDFweCA0cHggIzBhMGEwYTRkXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID09PSAwIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPT09IDApe1xyXG4gICAgICAgIGhlYWRlci5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ0cmFuc3BhcmVudFwiO1xyXG4gICAgICAgIGhlYWRlci5zdHlsZS5ib3hTaGFkb3cgPSBcIm5vbmVcIlxyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbndpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaGVhZGVyT25TY3JvbGwoKVxyXG59O1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHRvZ2dsZU1vYk1lbnUoKVxyXG4gICAgdG9nZ2xlU2VhcmNoKClcclxuICAgIHRvZ2dsZUNhcnQoKVxyXG4gICAgc2xpZGVyQWN0aW9uKClcclxufSkoKTtcclxuIiwiZnVuY3Rpb24gc2xpZGVyQWN0aW9uKCkge1xyXG4gICAgY29uc3Qgc2xpZGVzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGVzdGltb25pYWxfX3NsaWRlXCIpXTtcclxuICAgIGNvbnN0IHByZXZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlcl9fYnV0dG9uLXByZXZcIik7XHJcbiAgICBjb25zdCBuZXh0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXJfX2J1dHRvbi1uZXh0XCIpO1xyXG5cclxuICAgIGxldCBjdXJyZW50U2xpZGUgPSAwO1xyXG5cclxuICAgIGNvbnN0IGNoYW5nZVNsaWRlID0gc2xpZGUgPT4ge1xyXG4gICAgICAgIGlmIChzbGlkZSA+PSBzbGlkZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHNsaWRlID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKHNsaWRlIDwgMCkge1xyXG4gICAgICAgICAgICBzbGlkZSA9IHNsaWRlcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2xpZGVzW2N1cnJlbnRTbGlkZV0uY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICAgICAgICBzbGlkZXNbc2xpZGVdLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgICAgIGN1cnJlbnRTbGlkZSA9IHNsaWRlO1xyXG4gICAgfTtcclxuXHJcbiAgICBuZXh0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgY2hhbmdlU2xpZGUoY3VycmVudFNsaWRlICsgMSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBwcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgY2hhbmdlU2xpZGUoY3VycmVudFNsaWRlIC0gMSk7XHJcbiAgICB9KTtcclxufVxyXG47XHJcbiIsImZ1bmN0aW9uIHRvZ2dsZU1vYk1lbnUoKSB7XHJcbiAgICBjb25zdCBuYXZNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXYtbWVudVwiKTtcclxuICAgIGNvbnN0IG5hdlRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2LXRvZ2dsZVwiKTtcclxuICAgIGNvbnN0IG5hdkNsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXYtY2xvc2VcIik7XHJcbiAgICBjb25zdCBuYXZMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXZfX2xpbmtcIik7XHJcbiAgICBjb25zdCBuYXZTZWFyY2hGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX3NlYXJjaC1mb3JtXCIpXHJcblxyXG4gICAgaWYgKG5hdk1lbnUpIHtcclxuICAgICAgICBuYXZUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbmF2TWVudS5jbGFzc0xpc3QuYWRkKFwic2hvdy1tZW51XCIpO1xyXG4gICAgICAgICAgICBjbG9zZVNlYXJjaEZvcm0oKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBuYXZDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBuYXZNZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93LW1lbnVcIik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5hdkxpbmsuZm9yRWFjaChsaW5rID0+IHtcclxuICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbmF2TWVudS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1tZW51XCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbG9zZVNlYXJjaEZvcm0oKSB7XHJcbiAgICAgICAgaWYgKG5hdlNlYXJjaEZvcm0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLWZvcm1cIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5hdlNlYXJjaEZvcm0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1mb3JtXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==
